# Руководство для Junie — PW Hub Relics

## Общие правила

- **Язык документации и комментариев**: русский
- **Пакетный менеджер**: только `pnpm` (не npm, не yarn)
- **Не использовать** `ls -r` или рекурсивный обход файловой системы — из-за node_modules команда зависнет
- **Методология**: TDD — сначала тесты, потом реализация

## Структура проекта

```
src/
  app/          — корневой компонент, провайдеры, роутер
  layouts/      — лейауты (MainLayout)
  pages/        — страницы (SearchPage, AnalyticsPage, GuidesPage, NotFoundPage)
  shared/
    api/        — HTTP-клиент и API-сервисы (relics, dictionaries, notifications)
    types/      — TypeScript-типы (основаны на swagger.json)
    ui/         — переиспользуемые UI-компоненты (Button, Spinner, Modal, Tooltip)
    styles/     — глобальные стили и CSS-переменные дизайн-системы
  test/         — настройка тестового окружения
```

## Технологический стек

- **React 18** + **TypeScript**
- **Vite** — сборка
- **React Router v6** — маршрутизация
- **TanStack React Query** — управление серверным состоянием
- **SCSS Modules** — стилизация компонентов
- **Vitest** + **Testing Library** — тестирование

## Команды

- `pnpm dev` — запуск dev-сервера
- `pnpm build` — сборка для продакшена
- `pnpm test` — запуск тестов в watch-режиме
- `pnpm test:run` — однократный запуск тестов

## Правила разработки

### Компоненты
- Каждый компонент в отдельной папке: `ComponentName/ComponentName.tsx`, `ComponentName.module.scss`, `index.ts`
- Стили через CSS Modules (`.module.scss`)
- Все пропсы документировать JSDoc-комментариями на русском

### API
- Все запросы через HTTP-клиент (`shared/api/client.ts`)
- Проксирование через `/api/*` (настроено в vite.config.ts)
- Типы ответов в `shared/types/api.ts`

### Тесты
- Тесты рядом с кодом в папке `__tests__/`
- Именование: `*.test.ts` / `*.test.tsx`
- Описания тестов на русском языке
- Перед коммитом все тесты должны проходить: `pnpm test:run`

### Стили
- Использовать CSS-переменные из `shared/styles/variables.scss`
- Тёмная тема по умолчанию
- Дизайн-система PW Hub: цвета, радиусы, отступы, типографика

### Алиасы импортов
- `@/*` → `src/*` (настроено в tsconfig.json и vite.config.ts)

## Фазы проекта

Текущая фаза: **Фаза 2 — Основной функционал** ✅ Завершена

Следующая: **Фаза 3 — Аналитика** (дашборд трендов, графики, фильтры аналитики)
